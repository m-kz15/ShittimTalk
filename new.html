<html lang="ja">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,height=device-height">
		<link rel="stylesheet" href="style.css" type="text/css">
		<!--<script type="text/javascript" src="scroll.js"></script>-->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
	</head>
	<body onload="setCanvas();">
		<!-- 入力欄(#sub)の表示・非表示を切り替えるチェックボックス -->
    	<input type="checkbox" id="drawer-check" class="sub_check" >

    	<!-- ハンバーガーアイコン -->
   		<label for="drawer-check" class="drawer-open"><span></span></label>
		
		<!-- メイン画面 -->
		<div id="main">
			<!-- トーク描画画面 -->
			<div class="create_area" id="create_area">
				<!-- トークのヘッダー部分 -->
				<div class="create_header">
					<div class="header_top">
						<p>ShittimTalk</p>
					</div>
					<div class="header_bottom">
						<session class="header_frame">
							<p id="create_title">作品名：</p>
							<p id="creater_name">作者名：</p>
						</session>
					</div>
				</div>
				<!-- トークのボディ部分 -->
				<div class="create_body" id="output">
<!--<p class="gap" id="large"></p>
<div class="talk_box" id="l_s">
	<div class="icon_box">
		<img src="" class="icon">
	</div>
	<div class="frame">
		<div class="name_box">
			<div class="name_area">
				<p class="name">キャラ</p>
			</div>
		</div>
		<div class="message_box">
			<div class="message_area" id="true">
				<p class="message">テキストテキストテキストテキストテキストテキスト</p>
			</div>
		</div>
	</div>
</div>
<p class="gap" id="big"></p>
<div class="talk_box" id="r_s">
	<div class="icon_box">
		<img src="" class="icon">
	</div>
	<div class="frame">
		<div class="name_box">
			<div class="name_area">
				<p class="name">キャラ</p>
			</div>
		</div>
		<div class="message_box">
			<div class="message_area" id="true">
				<p class="message">テキストテキストテキストテキストテキストテキスト</p>
			</div>
		</div>
	</div>
</div>
<p class="gap" id="big"></p>
<div class="talk_box" id="r_t">
	<div class="icon_box">
		<img src="" class="icon">
	</div>
	<div class="frame">
		<div class="name_box">
			<div class="name_area">
				<p class="name">キャラ</p>
			</div>
		</div>
		<div class="message_box">
			<div class="message_area" id="true">
				<p class="message">テキストテキストテキストテキスト</p>
			</div>
		</div>
	</div>
</div>
<div class="talk_box" id="c_c">
	<div class="frame">
		<div class="message_box">
			<div class="message_area" id="false">
				<p class="message">テキストテキストテキストテキスト</p>
			</div>
		</div>
	</div>
</div>
<div class="talk_box" id="r_r">
	<div class="frame">
		<div class="title_area">
			<text class="left_line" id="l_blue">┃</text>
			<p class="title">返信する</p>
		</div>
		<p class="disp_line" id="b_blue">──────────────────────</p>
		<div class="message_box">
			<div class="message_area" id="false">
				<p class="message">テキストテキストテキストテキストテキストテキスト</p>
			</div>
			<div class="message_area" id="false">
				<p class="message">テキストテキストテキストテキスト</p>
			</div>
		</div>
	</div>
</div>
<div class="talk_box" id="r_b">
	<div class="frame">
		<div class="title_area">
			<text class="left_line" id="l_pink">┃</text>
			<p class="title">絆イベント</p>
		</div>
		<p class="disp_line" id="b_pink">──────────────────────</p>
		<div class="message_box">
			<div class="message_area" id="false">
				<p class="message">テキスト</p>
			</div>
		</div>
	</div>
</div>
<p class="gap" id="big"></p>
<div class="talk_box" id="c_p">
	<div class="frame">
		<div class="photo_box">
			<div class="photo_area">
				<img src="" class="photo">
			</div>
		</div>
	</div>
</div>-->
<p class="gap" id="large"></p>
				</div>
			</div>
			<!-- 完成品生成＆描画画面 -->
			<div id="result">

			</div>
		</div>
		<!-- データ入力画面 -->
		<div id="sub">
			<div class="input_box">
				<details>
					<summary>保存/復元/完成</summary>
					<div class="fileOption">
						<a id="save" download="incomplete.txt"><font color=#5058ff><u>セーブ</u></font></a>
					</div>
					<div class="fileOption">
						<label for="load"><font color=#5058ff>復元</font></label>
						<input accept=".txt" type="file" id="load" name="myfile" style="display: none;"></input>
					</div>
					<div class="fileOption">
						<font color=#5058ff><a href="" id="ss" style="pointer-events:auto;">完成</a></font>
					</div>
				<br>
				
				</details>
				
			</div>
			
			<div class="input_box">
				<p class="item_name">作品名/作者名入力</p>
				<input type="text" class="input_text" id="input_title" placeholder="タイトル">
				<input type="text" class="input_text" id="input_author" placeholder="作者名">
				<button class="decision" onclick="setCreater();">変更</button>
			</div>

			<div class="input_box">
				<p class="item_name">生徒トーク設定</p>
				<form id="form_student" name="students">
					<legend>配置を選択してください。</legend>
					<div class="input_position">
						<label><input type="radio" class="position" id="position_left" name="position" value="l_s" checked />左側</label>
						<label><input type="radio" class="position" id="position_right" name="position" value="r_s" />右側</label>
					</div>
					<br>
					<select name="sel_school" class="selection" id="sel_school">
						<option value="0">所属未選択</option>
					</select>
					<br>
					<select name="sel_student" class="selection" id="sel_student">
						<option value="0">所属が未選択です</option>
					</select>

					<select name="sel_effect" class="selection" id="sel_effect">
						<option value="0">エフェクト無し</option>
						<option value="1">バグ</option>
						<option value="2">流血</option>
						<option value="3">返り血</option>
						<option value="4">致命傷</option>
					</select>
					<!--<div class="scroll_box">
						<div class="scroll_area" id="emotion" tabindex="0" role="region">
							<img src="./images/icon/Abydos/hoshino01.webp" class="scroll_icon">
							<img src="./images/icon/Abydos/hoshino01.webp" class="scroll_icon">
							<img src="./images/icon/Abydos/hoshino01.webp" class="scroll_icon">
							<img src="./images/icon/Abydos/hoshino01.webp" class="scroll_icon">
							<img src="./images/icon/Abydos/hoshino01.webp" class="scroll_icon">
						</div>
						
					</div>-->
				</form>
				<canvas id="newIcon"></canvas>
				<label for="newChara"><font color="#0000ff"><u><h3>アイコンを指定する</h3></u></font></label><input id="newChara" name="input" type="file" accept="image/icon/" style="display: none;">

				<input type="text" class="input_text" id="input_student_icon" style="display: none;" placeholder="画像名：icon/..">
				<input type="text" class="input_text" id="input_effect_icon" style="display: none;" placeholder="画像名：icon/..">

				<input type="text" class="input_text" id="input_student_name" placeholder="生徒名">

				<textarea class="input_textarea" id="input_student_talk" rows="3" placeholder="生徒のトーク内容"></textarea>
				<details class="colors_area">
					<summary>装飾機能一覧</summary>
					<button class="input_color" id="red" onclick="inputColor('input_student_talk','Red');">赤</button>
					<button class="input_color" id="blue" onclick="inputColor('input_student_talk','Blue');">青</button>
					<button class="input_color" id="green" onclick="inputColor('input_student_talk','Green');">緑</button>
					<button class="input_color" id="pink" onclick="inputColor('input_student_talk','Love');">照れ</button>
					<button class="input_color" id="blood" onclick="inputColor('input_student_talk','Blood');">血</button>
					<button class="input_color" id="black" onclick="inputColor('input_student_talk','Black');">ゲマトリア</button>
					<button class="input_color" id="glitch" onclick="inputColor('input_student_talk','Glitch');">グリッチ</button>
					<button class="input_color" id="vibrate" onclick="inputColor('input_student_talk','Vibrate');">震え</button>
					<br>
					<button class="input_size" onclick="inputSize('input_student_talk','Big');">大</button>
					<button class="input_size" onclick="inputSize('input_student_talk','Large');">特大</button>
					<br>
					<button class="input_font" id="Mincho" onclick="inputFont('input_student_talk','serif');">明朝体</button>
					<button class="input_font" id="Gothic" onclick="inputFont('input_student_talk','sans-serif');">ゴシック</button>
					<br>
					<br>
					<button class="input_displace" onclick="inputDisplace('input_student_talk');">号哭</button>
					<p>※号哭を選択すると他の装飾は反映されません。</p>
					
				</details>
				<button class="decision" onclick="createMessage(0,true)">表示</button>
				<button class="decision" onclick="createMessage(0,false)">セリフのみ表示</button>
					
			</div>

			<div class="input_box">
				<p class="item_name">先生トーク設定</p>
				<textarea class="input_textarea" id="input_teacher_talk" rows="3" placeholder="先生のトーク内容"></textarea>
				<details class="colors_area">
					<summary>装飾機能一覧</summary>
					<button class="input_color" id="red" onclick="inputColor('input_teacher_talk','Red');">赤</button>
					<button class="input_color" id="blue" onclick="inputColor('input_teacher_talk','Blue');">青</button>
					<button class="input_color" id="green" onclick="inputColor('input_teacher_talk','Green');">緑</button>
					<button class="input_color" id="pink" onclick="inputColor('input_teacher_talk','Love');">照れ</button>
					<button class="input_color" id="blood" onclick="inputColor('input_teacher_talk','Blood');">血</button>
					<button class="input_color" id="black" onclick="inputColor('input_teacher_talk','Black');">ゲマトリア</button>
					<button class="input_color" id="glitch" onclick="inputColor('input_teacher_talk','Glitch');">グリッチ</button>
					<button class="input_color" id="vibrate" onclick="inputColor('input_teacher_talk','Vibrate');">震え</button>
					<br>
					<button class="input_size" onclick="inputSize('input_teacher_talk','Big');">大</button>
					<button class="input_size" onclick="inputSize('input_teacher_talk','Large');">特大</button>
					<br>
					<button class="input_font" id="Mincho" onclick="inputFont('input_teacher_talk','serif');">明朝体</button>
					<button class="input_font" id="Gothic" onclick="inputFont('input_teacher_talk','sans-serif');">ゴシック</button>
					<br>
					<br>
					<button class="input_displace" onclick="inputDisplace('input_teacher_talk');">号哭</button>
					<p>※号哭を選択すると他の装飾は反映されません。</p>
				</details>
				<button class="decision" onclick="createMessage(1,true);">セリフ表示</button>
			</div>

			<div class="input_box">
				<p class="item_name">写真設定</p>
				<label for="input_photo"><font color="#0000ff"><u><h2>表示する画像を選ぶ</h2></u></font></label><input id="input_photo" name="input" type="file" accept="image/icon/" style="display: none;">
			</div>

			<div class="input_box">
				<p class="item_name">コメント設定</p>
				<textarea class="input_textarea" id="input_comment" rows="3" placeholder="コメント内容"></textarea>
				<details class="colors_area">
					<summary>装飾機能一覧</summary>
					<button class="input_color" id="red" onclick="inputColor('input_comment','Red');">赤</button>
					<button class="input_color" id="blue" onclick="inputColor('input_comment','Blue');">青</button>
					<button class="input_color" id="green" onclick="inputColor('input_comment','Green');">緑</button>
					<button class="input_color" id="pink" onclick="inputColor('input_comment','Love');">照れ</button>
					<button class="input_color" id="blood" onclick="inputColor('input_comment','Blood');">血</button>
					<button class="input_color" id="black" onclick="inputColor('input_comment','Black');">ゲマトリア</button>
					<button class="input_color" id="glitch" onclick="inputColor('input_comment','Glitch');">グリッチ</button>
					<button class="input_color" id="vibrate" onclick="inputColor('input_comment','Vibrate');">震え</button>
					<br>
					<button class="input_size" onclick="inputSize('input_comment','Big');">大</button>
					<button class="input_size" onclick="inputSize('input_comment','Large');">特大</button>
				</details>
				<button class="decision" onclick="createMessage(2,false);">コメント表示</button>
			</div>
			
			<div class="input_box">
				<p class="item_name">返信設定</p>
				<textarea class="input_textarea" id="input_reply1" rows="3" placeholder="返信内容(1)"></textarea>
				<textarea class="input_textarea" id="input_reply2" rows="3" placeholder="返信内容(2)"></textarea>
				<details class="colors_area" id="reply_colors">
					<summary>装飾機能一覧</summary>
					<button class="input_color" id="red" onclick="inputColor('input_reply1','Red');">赤(1)</button>
					<button class="input_color" id="red" onclick="inputColor('input_reply2','Red');">赤(2)</button>
					<button class="input_color" id="blue" onclick="inputColor('input_reply1','Blue');">青(1)</button>
					<button class="input_color" id="blue" onclick="inputColor('input_reply2','Blue');">青(2)</button>
					<button class="input_color" id="green" onclick="inputColor('input_reply1','Green');">緑(1)</button>
					<button class="input_color" id="green" onclick="inputColor('input_reply2','Green');">緑(2)</button>
					<button class="input_color" id="pink" onclick="inputColor('input_reply1','Love');">照れ(1)</button>
					<button class="input_color" id="pink" onclick="inputColor('input_reply2','Love');">照れ(2)</button>
					<button class="input_color" id="blood" onclick="inputColor('input_reply1','Blood');">血(1)</button>
					<button class="input_color" id="blood" onclick="inputColor('input_reply2','Blood');">血(2)</button>
					<button class="input_color" id="black" onclick="inputColor('input_reply1','Black');">ゲマトリア(1)</button>
					<button class="input_color" id="black" onclick="inputColor('input_reply2','Black');">ゲマトリア(2)</button>
					<button class="input_color" id="glitch" onclick="inputColor('input_reply1','Glitch');">グリッチ(1)</button>
					<button class="input_color" id="glitch" onclick="inputColor('input_reply2','Glitch');">グリッチ(2)</button>
					<button class="input_color" id="vibrate" onclick="inputColor('input_reply1','Vibrate');">震え(1)</button>
					<button class="input_color" id="vibrate" onclick="inputColor('input_reply2','Vibrate');">震え(2)</button>
					<br>
					<button class="input_size" onclick="inputSize('input_reply1','Big');">大(1)</button>
					<button class="input_size" onclick="inputSize('input_reply2','Big');">大(2)</button>
					<button class="input_size" onclick="inputSize('input_reply1','Large');">特大(1)</button>
					<button class="input_size" onclick="inputSize('input_reply2','Large');">特大(2)</button>
				</details>
				<button class="decision" onclick="createMessage(3,false);">返信表示</button>
			</div>

			<div class="input_box">
				<p class="item_name">絆ストーリー設定</p>
				<input type="text" class="input_text" id="input_bonding_name" placeholder="生徒名">
				<button class="decision" onclick="createMessage(4,false);">絆ストーリー表示</button>
			</div>

			<div class="input_box">
				<p class="item_name">修正</p>
				<button class="decision" onclick="deleteMessage();">一つ戻る</button>
			</div>

		</div>
		<script type="text/javascript" src="talk.js" defer></script>
		
	</body>
</html>
